<h1 style="color: cadetblue;">template-forms works!</h1>
<!-- création d'une variable de template form grâce à la syntaxe #form (créée dans template-form.ts) -->
<form #form="ngForm" (ngSubmit)="submit(form)">
<div style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <label for="surname" style="margin-bottom: 15px; background-color: silver; color: gold; border-radius: 4px;">Surname</label>
    <input required minlength="3" #surname="ngModel" ngModel type="text" name="surname" id="surname" style="width: 200px; margin-bottom: 15px; background: gold; border-radius: 5px;">
</div>

@if (surname.touched && surname.invalid) {
    <div class="errors" style="text-align: center; margin-bottom: 15px; color: gold; background: silver; border-radius: 4px; padding: 4px;">
        @if (surname.errors?.['required']){
            ceci est un champ obligatoire
        }
        @if (surname.errors?.['minlength']){
            Il vous manque {{ surname.errors?.['minlength'].requiredLength - surname.errors?.['minlength'].actualLength }}
            caractère pour atteindre la longueur minimum !
        }
    </div>
}

<div style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <label for="email" style="margin-bottom: 15px; background-color: silver; color: gold; border-radius: 4px;">Mail</label>
    <input pattern="^[\w-.]+@([\w-]+.)+[\w-]{2,4}$" #email="ngModel" ngModel type="text" name="email" id="email" style="width: 200px; margin-bottom: 15px; background: gold; border-radius: 5px;">
</div>
@if(email.invalid) {
    <div class="errors">
        Entrez un format d'email valide
    </div>
}

<div style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <label for="comments" style="margin-bottom: 15px; background-color: silver; color: gold; border-radius: 5px;">Commentaires</label>
    <textarea ngModel name="comment" id="comment" cols="30" rows="10" style="width: 300px; margin-bottom: 15px; background: gold; border-radius: 8px;"></textarea>
</div>
<button [disabled]="form.untouched" type="submit" style="color: gold; background: silver; border-radius: 5px; padding: 3px;">Envoyer</button>
</form>