<p>signup-form works!</p>
<h2 class="lol" style="color: gold; border-radius: 5px; width: fit-content; margin-right: 800px;">
    Formulaire réactif: exercice signup
</h2>
<form [formGroup]="signupForm" style="display: flex; justify-content: center; align-items: center; flex-direction: column;">
    <div>
        <label for="pseudo">Pseudo</label>
        <input type="text" formControlName="pseudo" id="pseudo">
    </div>

    @if (pseudoControl.pending) {
        <div class="errors" style="text-align: center; margin-bottom: 15px; color: gold; background: silver; border-radius: 4px; padding: 4px;">
            <p>
                les validateurs async sont entrain de tourner
            </p>
        </div>
    }

    @if (pseudoControl.invalid) {
        <div class="errors" style="text-align: center; margin-bottom: 15px; color: gold; background: rgb(237, 6, 6); border-radius: 4px; width: fit-content">
            @if (pseudoControl.errors?.['required']) {
                <p>
                    Pseudo obligatorie
                </p>
            }

            @if (pseudoControl.errors?.['minlength']) {
                <p>
                    Minimum 5 caractères
                </p>
            }

            @if (pseudoControl.errors?.['containBanWord']) {
                <p>
                    Votre pseudo contient des mots interdits
                </p>
            }
        </div>
    }

    <div>
        <label for="password">Mot de passe</label>
        <!--formControlName correspond au champ dans le constructeur du formGroup-->
        <input type="text" formControlName="password" id="password">
    </div>

    @if (signupForm.errors?.['containPseudo']) {
        <div class="errors" style="text-align: center; margin-bottom: 15px; color: gold; background: rgb(237, 6, 6); border-radius: 4px; width: fit-content">
            <p>
                le mot de passe ne peux pas contenir le pseudo
            </p>
        </div>
    }

    <button [disabled]="signupForm.invalid" type="submit">Envoyer</button>
</form>